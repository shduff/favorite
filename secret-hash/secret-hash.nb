(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     14570,        311]
NotebookOptionsPosition[     13706,        290]
NotebookOutlinePosition[     14105,        306]
CellTagsIndexPosition[     14062,        303]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"deployCurrImage", "[", "\[IndentingNewLine]", 
   RowBox[{"imgStr_", ",", "\[IndentingNewLine]", 
    RowBox[{
    "cloudURL_", ":", 
     "\"\<https://www.wolframcloud.com/obj/450190e1-2f0d-43b3-b039-\
9242692006db\>\""}]}], "]"}], ":=", 
  RowBox[{"Block", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"postImg", ",", "cloudImg"}], "}"}], ",", "\[IndentingNewLine]", 
    
    RowBox[{
     RowBox[{"postImg", "=", 
      RowBox[{"APIFunction", "[", 
       RowBox[{
        RowBox[{"{", "}"}], ",", 
        RowBox[{
         RowBox[{"ExportForm", "[", 
          RowBox[{"imgStr", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<String\>\"", ",", "\"\<SVG\>\""}], "}"}]}], "]"}], 
         "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cloudImg", "=", 
      RowBox[{"CloudDeploy", "[", 
       RowBox[{"postImg", ",", 
        RowBox[{"CloudObject", "[", "cloudURL", "]"}], ",", 
        RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "imgStr", "]"}], ";"}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.866054147877884*^9, 3.866054394365733*^9}, {
  3.8660545056734467`*^9, 3.866054514095216*^9}},
 CellLabel->
  "In[115]:=",ExpressionUUID->"85ec2c93-022f-4cf8-97e1-66fad42e3160"],

Cell[BoxData[
 RowBox[{
  RowBox[{"drawSecret", "[", 
   RowBox[{"secretStr_", ",", 
    RowBox[{"imgFormat_", ":", "\"\<SVG\>\""}], ",", 
    RowBox[{"targetWidth_", ":", "1748"}], ",", 
    RowBox[{"targetHeight_", ":", "2480"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hashChars", ",", "scribblePts", ",", "scribbleImg", ",", 
      "bottomPadding", ",", "leftPadding", ",", "scribbleStr", ",", 
      "apiPostPic", ",", "cloudImg"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"First", ",", " ", 
      RowBox[{
      "we", " ", "translate", " ", "the", " ", "secret", " ", "text", " ", 
       "into", " ", "a", " ", "hash"}]}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"hashChars", " ", "=", 
      RowBox[{"IntegerDigits", "@", 
       RowBox[{"Hash", "[", 
        RowBox[{"secretStr", ",", "\"\<SHA3-512\>\""}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Then", ",", " ", 
       RowBox[{
       "we", " ", "translate", " ", "the", " ", "hash", " ", "into", " ", "a",
         " ", "series", " ", "of", " ", "points"}]}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"scribblePts", "=", 
      RowBox[{"AnglePath", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Times", "[", 
            RowBox[{"#", ",", "100"}], "]"}], ",", 
           RowBox[{"RandomInteger", "[", 
            RowBox[{"{", 
             RowBox[{"1", ",", "360"}], "}"}], "]"}]}], "}"}], "&"}], "/@", 
        "hashChars"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Then", ",", " ", 
       RowBox[{
       "we", " ", "translate", " ", "those", " ", "points", " ", "into", " ", 
        "an", " ", "image"}]}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"scribbleImg", "=", 
      RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Line", "@", 
         RowBox[{"AnglePath", "[", "scribblePts", "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"BaseStyle", "->", 
         RowBox[{"{", 
          RowBox[{"Black", ",", "Thick"}], "}"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"ImagePadding", "->", "50"}], ",", "\[IndentingNewLine]", 
        RowBox[{"ImageSize", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"targetWidth", ",", "targetHeight"}], "}"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"scribbleStr", "=", 
      RowBox[{"ExportString", "[", 
       RowBox[{"scribbleImg", ",", "imgFormat"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"deployCurrImage", "[", "scribbleStr", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "scribbleStr", "]"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.864981047700624*^9, 3.864981050264556*^9}, {
   3.8649813446879177`*^9, 3.864981519753202*^9}, {3.8649815880820303`*^9, 
   3.864981632765373*^9}, {3.864981687647584*^9, 3.864981698446519*^9}, {
   3.864981751187044*^9, 3.8649817562716427`*^9}, {3.864981787691424*^9, 
   3.864981790664115*^9}, {3.8649819358070583`*^9, 3.8649819448565187`*^9}, 
   3.8649820058908253`*^9, {3.864982840491691*^9, 3.864982855468409*^9}, {
   3.8649829016161337`*^9, 3.8649829026774397`*^9}, {3.8649832503147793`*^9, 
   3.86498325407016*^9}, 3.8649832962062397`*^9, {3.8649837094778976`*^9, 
   3.864983742620141*^9}, 3.864983787512576*^9, {3.86498381831654*^9, 
   3.864983821932062*^9}, {3.8649838520927973`*^9, 3.864983884513164*^9}, {
   3.864983937708836*^9, 3.864983979884449*^9}, {3.8649895914359627`*^9, 
   3.864989595904701*^9}, {3.864990810427945*^9, 3.8649909408825197`*^9}, {
   3.864991040046032*^9, 3.864991114687564*^9}, {3.8649911475325193`*^9, 
   3.864991148295409*^9}, {3.864991178969097*^9, 3.8649911867316713`*^9}, {
   3.864991303383358*^9, 3.8649913294929533`*^9}, {3.8649913840682917`*^9, 
   3.864991387270647*^9}, {3.86499149869877*^9, 3.8649915496978607`*^9}, {
   3.864991699073822*^9, 3.8649917044694242`*^9}, {3.864991756527761*^9, 
   3.8649917572581472`*^9}, {3.864991835566869*^9, 3.8649918473732*^9}, {
   3.864996418401271*^9, 3.864996449307644*^9}, {3.864996482136286*^9, 
   3.864996514107748*^9}, {3.864996547080757*^9, 3.864996572465083*^9}, {
   3.8649966082938843`*^9, 3.8649968473181963`*^9}, {3.8649969353305883`*^9, 
   3.864997024594746*^9}, {3.864997080695311*^9, 3.864997122313027*^9}, {
   3.8649971787339067`*^9, 3.864997224878518*^9}, {3.864997959041684*^9, 
   3.8649980341959457`*^9}, {3.864999561355082*^9, 3.8649997627344017`*^9}, {
   3.864999797807968*^9, 3.8649999331137543`*^9}, {3.865000532718388*^9, 
   3.86500054340034*^9}, {3.8650008259105864`*^9, 3.865000860283565*^9}, 
   3.865000942466861*^9, {3.865001135500392*^9, 3.865001137852434*^9}, {
   3.865001229936517*^9, 3.865001273479154*^9}, {3.865001306851029*^9, 
   3.865001408123356*^9}, {3.865002073871521*^9, 3.865002077108276*^9}, {
   3.865004716357768*^9, 3.865004720117408*^9}, {3.865082630811591*^9, 
   3.865082631107894*^9}, {3.865082683438012*^9, 3.865082701561294*^9}, {
   3.86508291583648*^9, 3.865082923882345*^9}, {3.8650829566829777`*^9, 
   3.8650829585638*^9}, {3.86508302328129*^9, 3.865083040771022*^9}, {
   3.865083072277834*^9, 3.865083076079349*^9}, {3.865083113705608*^9, 
   3.865083191929635*^9}, {3.865083226256324*^9, 3.865083247902527*^9}, {
   3.865083282885696*^9, 3.865083309304442*^9}, {3.8650833406284037`*^9, 
   3.865083392817047*^9}, {3.865083441503902*^9, 3.865083477930779*^9}, {
   3.866031195733347*^9, 3.8660311966081963`*^9}, {3.8660313192883377`*^9, 
   3.866031320024171*^9}, {3.8660317396740007`*^9, 3.866031749152616*^9}, {
   3.866031905642885*^9, 3.8660319117934637`*^9}, {3.8660319438492537`*^9, 
   3.866032018786889*^9}, {3.866032399652095*^9, 3.866032466228792*^9}, {
   3.866032795789222*^9, 3.866032804666916*^9}, {3.86603286546391*^9, 
   3.866032874828017*^9}, {3.8660332238921537`*^9, 3.866033227317247*^9}, {
   3.866033408457303*^9, 3.866033435255863*^9}, {3.866034431287423*^9, 
   3.8660344605495234`*^9}, {3.8660345149115963`*^9, 3.8660345389084187`*^9}, 
   3.866034572130575*^9, {3.86603469887467*^9, 3.866034699556539*^9}, {
   3.866034729742591*^9, 3.866034814985471*^9}, {3.866034880769495*^9, 
   3.866034915598309*^9}, {3.8660351133643227`*^9, 3.866035128159665*^9}, {
   3.866035346076037*^9, 3.8660353547740993`*^9}, {3.866035412155324*^9, 
   3.8660354173423433`*^9}, {3.8660363113803988`*^9, 3.866036326603702*^9}, {
   3.866036379320917*^9, 3.866036425148278*^9}, {3.8660393104806423`*^9, 
   3.866039323883676*^9}, {3.8660393634945107`*^9, 3.86603936492524*^9}, {
   3.8660394796182203`*^9, 3.866039497310542*^9}, {3.866039614232934*^9, 
   3.866039617923921*^9}, {3.8660400491606407`*^9, 3.8660400502098417`*^9}, {
   3.866040193345334*^9, 3.866040222153718*^9}, {3.866040302571372*^9, 
   3.866040304192768*^9}, {3.8660403695255947`*^9, 3.866040374759962*^9}, {
   3.8660404379863567`*^9, 3.86604045246796*^9}, {3.86604062597421*^9, 
   3.866040726308897*^9}, {3.8660413625661087`*^9, 3.866041367074753*^9}, {
   3.866041479196726*^9, 3.866041554864119*^9}, {3.8660415917566137`*^9, 
   3.866041679072535*^9}, {3.866041716875098*^9, 3.866041720193727*^9}, {
   3.8660417525990057`*^9, 3.866041816876873*^9}, {3.866041907113597*^9, 
   3.866041909468363*^9}, {3.866042104644937*^9, 3.866042163517428*^9}, {
   3.866044823709969*^9, 3.866044825299883*^9}, {3.8660448571777897`*^9, 
   3.866044862721778*^9}, {3.866044995852274*^9, 3.866045010124476*^9}, 
   3.866045055279338*^9, {3.8660450945799847`*^9, 3.8660450980042152`*^9}, {
   3.8660451375796127`*^9, 3.866045175211157*^9}, {3.86604521008672*^9, 
   3.866045235922961*^9}, {3.866045299003377*^9, 3.866045306935297*^9}, 
   3.866045403250636*^9, {3.8660455382135277`*^9, 3.866045568037641*^9}, {
   3.866045663743824*^9, 3.866045699811091*^9}, 3.866045877350523*^9, {
   3.866051804244006*^9, 3.866051813633245*^9}, {3.8660519667453003`*^9, 
   3.866051974797736*^9}, {3.8660520130812893`*^9, 3.8660520348775682`*^9}, {
   3.866052072228014*^9, 3.8660521404014597`*^9}, {3.866052216150461*^9, 
   3.8660522288158703`*^9}, {3.8660526747466297`*^9, 3.866052678549817*^9}, {
   3.866053031361219*^9, 3.866053039475563*^9}, {3.866053178058011*^9, 
   3.8660532497495413`*^9}, {3.8660533010391073`*^9, 
   3.8660533666693172`*^9}, {3.866053584247312*^9, 3.866053587857586*^9}, {
   3.86605392723726*^9, 3.866053934029332*^9}, {3.8660544029955587`*^9, 
   3.8660544184306393`*^9}},
 CellLabel->
  "In[116]:=",ExpressionUUID->"7bd1879c-4740-4ec1-86e2-dc63035190fb"],

Cell[BoxData[
 RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Dynamic", "@", 
    RowBox[{"drawSecret", "[", "\|01f92b", "]"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"\|01f92b", ",", "\"\<Type your secret here.\>\""}], "}"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"ControlType", "\[Rule]", "InputField"}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"LabelStyle", "\[Rule]", "\"\<Subtitle\>\""}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"ImageMargins", "\[Rule]", "Large"}]}], "\[IndentingNewLine]", 
  "]"}]], "Input",
 CellChangeTimes->{{3.866045358328476*^9, 
  3.8660453589974833`*^9}},ExpressionUUID->"69b0427d-3d2c-47a3-8977-\
aaa5730f03b1"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"apiDrawSecret", "=", 
  RowBox[{"APIFunction", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\"\<secret\>\"", "->", "\"\<String\>\""}], "}"}], ",", 
    RowBox[{
     RowBox[{"ExportForm", "[", 
      RowBox[{
       RowBox[{"drawSecret", "[", "#secret", "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<String\>\"", ",", "\"\<SVG\>\""}], "}"}]}], "]"}], 
     "&"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"cloudImg", "=", 
  RowBox[{"CloudDeploy", "[", 
   RowBox[{"apiDrawSecret", ",", 
    RowBox[{"Permissions", "\[Rule]", "\"\<Public\>\""}]}], "]"}]}]}], "Input",\

 CellChangeTimes->{{3.86604291299115*^9, 3.866042913266116*^9}, {
  3.866053150813401*^9, 3.8660531511522837`*^9}},
 CellLabel->
  "In[117]:=",ExpressionUUID->"2ca156db-54a8-4fbb-a2d1-119a86fbf7c2"],

Cell[BoxData[
 RowBox[{"APIFunction", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"secret\"\>", "\[Rule]", "\<\"String\"\>"}], "}"}], ",", 
   RowBox[{
    RowBox[{"ExportForm", "[", 
     RowBox[{
      RowBox[{"drawSecret", "[", "#secret", "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"String\"\>", ",", "\<\"SVG\"\>"}], "}"}]}], "]"}], 
    "&"}]}], "]"}]], "Output",
 CellChangeTimes->{3.866042914329309*^9, 3.866044502395584*^9, 
  3.866045925190724*^9, 3.866051842684739*^9, 3.8660527393121853`*^9, 
  3.866053159733375*^9, 3.866053376590199*^9, 3.866053596631517*^9, 
  3.866053986241954*^9, 3.866054437668509*^9, 3.866054525004757*^9},
 CellLabel->
  "Out[117]=",ExpressionUUID->"c67c7d58-bbab-44d2-ad30-79543ec78d70"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"CloudObject", "[", 
   TemplateBox[{
    "\"https://www.wolframcloud.com/obj/0b17b8ae-f7c8-403b-94e5-98d1d6d53528\"\
", "https://www.wolframcloud.com/obj/0b17b8ae-f7c8-403b-94e5-98d1d6d53528"},
    "HyperlinkURL"], "]"}],
  CloudObject[
  "https://www.wolframcloud.com/obj/0b17b8ae-f7c8-403b-94e5-98d1d6d53528"],
  SelectWithContents->True]], "Output",
 CellChangeTimes->{3.866042914329309*^9, 3.866044502395584*^9, 
  3.866045925190724*^9, 3.866051842684739*^9, 3.8660527393121853`*^9, 
  3.866053159733375*^9, 3.866053376590199*^9, 3.866053596631517*^9, 
  3.866053986241954*^9, 3.866054437668509*^9, 3.8660545253485527`*^9},
 CellLabel->
  "Out[118]=",ExpressionUUID->"39d58162-8108-4068-97dd-b45121576670"]
}, Open  ]]
},
WindowSize->{773, 843},
WindowMargins->{{262, Automatic}, {-451, Automatic}},
FrontEndVersion->"13.0 for Mac OS X x86 (64-bit) (February 4, 2022)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"29664710-589d-43de-8f83-8a8e7f03298c"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1377, 35, 199, "Input",ExpressionUUID->"85ec2c93-022f-4cf8-97e1-66fad42e3160"],
Cell[1938, 57, 8704, 150, 409, "Input",ExpressionUUID->"7bd1879c-4740-4ec1-86e2-dc63035190fb"],
Cell[10645, 209, 710, 17, 166, "Input",ExpressionUUID->"69b0427d-3d2c-47a3-8977-aaa5730f03b1"],
Cell[CellGroupData[{
Cell[11380, 230, 810, 21, 73, "Input",ExpressionUUID->"2ca156db-54a8-4fbb-a2d1-119a86fbf7c2"],
Cell[12193, 253, 739, 17, 34, "Output",ExpressionUUID->"c67c7d58-bbab-44d2-ad30-79543ec78d70"],
Cell[12935, 272, 755, 15, 37, "Output",ExpressionUUID->"39d58162-8108-4068-97dd-b45121576670"]
}, Open  ]]
}
]
*)

